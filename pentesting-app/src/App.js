import './App.css';
import React, { Component } from 'react'
import ClientConsole from './Components/ClientConsole';
import DeveloperConsole from './Components/DeveloperConsole';

export default class App extends Component {
  constructor(props) {
    super(props)

    // set up state variables
    this.state = {
      serverAddress: this.props.serverAddress
    }

    // bind functions
    this.onBaseAddressChanged = this.onBaseAddressChanged.bind(this)
  }

  onBaseAddressChanged() {
    // get address input
    var addressInput = document.getElementById('serverAddressInput').value
    this.setState({
      serverAddress: addressInput
    })
  }

  render() {
    return (
      <div className="App">
        <header className="App-header">
          <div className='Server-Header'>
            <strong>Server Address</strong>
            <em> </em>
            <input id='serverAddressInput' type="text" value={this.state.serverAddress} onChange={this.onBaseAddressChanged} />
          </div>
          <br />
          <ClientConsole clientId="0" baseAddress={this.state.serverAddress} />
          <br />
          <DeveloperConsole clientId="0" baseAddress={this.state.serverAddress} />
        </header>
      </div>
    )
  }
}
